let buttonLogin=document.getElementById("login__btn"),modalWindow=document.querySelector(".modal__window"),modalWrap=document.querySelector(".modal__wrap"),buttonClose=document.getElementById("close_btn");buttonLogin.addEventListener("click",()=>{modalWindow.classList.toggle("modal__window--active")}),buttonClose.addEventListener("click",()=>{modalWindow.classList.toggle("modal__window--active")}),window.addEventListener("click",t=>{t.target==modalWindow&&t.target!=modalWrap&&modalWindow.classList.toggle("modal__window--active")});const INPUT_LOGIN_ERROR="Введите действительный электронный адрес",INPUT_PASSWORD_ERROR="Введите пароль";let inputLogin=document.getElementById("modal-input-login"),inputPassword=document.getElementById("modal-input-password"),modalSubmitBtn=document.getElementById("modal-submit-button"),loginError=document.getElementById("input-error-login"),passwordError=document.getElementById("input-error-password");function validateLogin(t){return/\S+@\S+\.\S+/.test(t)}function validatePassword(t){return/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{6,}/.test(t)}function enableError(t,e,i){e.innerHTML=i,t.classList.add("input-highlight"),modalSubmitBtn.classList.add("submit-disabled"),modalSubmitBtn.disabled=!0}function disableError(t,e){e.innerHTML="",t.classList.remove("input-highlight"),modalSubmitBtn.classList.remove("submit-disabled"),modalSubmitBtn.disabled=!1}inputLogin.addEventListener("blur",()=>{validateLogin(inputLogin.value)&&inputLogin.value.length>0?disableError(inputLogin,loginError):enableError(inputLogin,loginError,INPUT_LOGIN_ERROR)}),inputPassword.addEventListener("blur",()=>{validatePassword(inputPassword.value)&&inputPassword.value.length>0?disableError(inputPassword,passwordError):enableError(inputPassword,passwordError,"Введите пароль")});let indicatorItems,timerId,slider=document.querySelector(".slider"),sliderContainer=document.querySelector(".slider__items"),sliderItems=document.querySelectorAll("div.slider__item"),indicatorIndex=0,indicatorIndexMax=sliderItems.length-1,currentPosition=0,transformValue=0,transformStep=100,itemsArray=[];for(let t=0;t<sliderItems.length;t++)itemsArray.push({item:sliderItems[t],position:t,transform:0});let position={getItemIndex:function(t){let e=0;for(let i=0;i<itemsArray.length;i++)(itemsArray[i].position<itemsArray[e].position&&"min"===t||itemsArray[i].position>itemsArray[e].position&&"max"===t)&&(e=i);return e},getItemPosition:function(t){return itemsArray[position.getItemIndex(t)].position}};function moveSlide(t){let e,i=indicatorIndex;"next"===t?(currentPosition++,currentPosition>position.getItemPosition("max")&&(e=position.getItemIndex("min"),itemsArray[e].position=position.getItemPosition("max")+1,itemsArray[e].transform+=100*itemsArray.length,itemsArray[e].item.style.transform=`translateX(${itemsArray[e].transform}%)`),transformValue-=transformStep,indicatorIndex++,indicatorIndex>indicatorIndexMax&&(indicatorIndex=0)):(currentPosition--,currentPosition<position.getItemPosition("min")&&(e=position.getItemIndex("max"),itemsArray[e].position=position.getItemPosition("min")-1,itemsArray[e].transform-=100*itemsArray.length,itemsArray[e].item.style.transform=`translateX(${itemsArray[e].transform}%)`),transformValue+=transformStep,indicatorIndex--,indicatorIndex<0&&(indicatorIndex=indicatorIndexMax)),sliderContainer.style.transform=`translateX(${transformValue}%)`,indicatorItems[i].classList.remove("active"),indicatorItems[indicatorIndex].classList.add("active")}function moveTo(t){let e=0,i=t>indicatorIndex?"next":"prev";for(;t!=indicatorIndex&&e<=indicatorIndexMax;)moveSlide(i),e++}let defaultDirection="next",delayAutoPlay=5e3;function startAutoPlay(){stopAutoPlay(),timerId=setInterval(()=>moveSlide(defaultDirection),delayAutoPlay)}function stopAutoPlay(){clearInterval(timerId)}function addIndicators(){let t=document.createElement("ol");t.classList.add("slider__indicators");for(let e=0;e<sliderItems.length;e++){let i=document.createElement("li");0===e&&i.classList.add("active"),i.setAttribute("data-slide-to",e),t.appendChild(i)}slider.appendChild(t),indicatorItems=slider.querySelectorAll(".slider__indicators > li")}slider.addEventListener("click",t=>{t.target.getAttribute("data-slide-to")&&(t.preventDefault(),moveTo(parseInt(t.target.getAttribute("data-slide-to"))),startAutoPlay())}),window.onload=function(){startAutoPlay(),addIndicators()};